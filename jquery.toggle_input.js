// Generated by CoffeeScript 1.3.3
(function() {

  $.fn.toggle_input = function(options) {
    var $input, $toggles, defaults, settings;
    defaults = {
      input: 'input',
      toggles: '.toggle',
      active_class: 'active',
      can_deselect: true,
      get_value: function() {
        return this.text().trim().toLowerCase().replace(' ', '');
      }
    };
    settings = $.extend(defaults, options);
    $input = this.find(settings.input);
    $toggles = this.find(settings.toggles);
    return $toggles.click(function() {
      var $this, value;
      $this = $(this);
      if (settings.can_deselect && $this.hasClass(settings.active_class)) {
        $input.val(null);
        $this.removeClass(settings.active_class);
      } else {
        value = $.proxy(settings.get_value, $this)();
        $input.val(value);
        $toggles.removeClass(settings.active_class);
        $this.addClass(settings.active_class);
      }
      return false;
    });
  };

}).call(this);
